<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper and scissors</title>
</head>

<body>
    <h1>Rock, Paper and Scissors</h1>

    <div class="btns">
        <button class="btn" value="1">Rock</button>
        <button class="btn" value="2">Paper</button>
        <button class="btn" value="3">Scissors</button>
    </div>
    <div class="result">
        <p class="round-result"></p>
        <p class="scoreboard"></p>
    </div>


    <script>
        let humanScore = 0;
        let computerScore = 0;

        document.querySelectorAll(".btn").forEach((btn) => {
            btn.addEventListener("click", (e) => {
                playRound(Number(e.target.value), getComputerChoice());
            })
        })

        // 1-rock, 2-paper and 3-scissors
        function getComputerChoice() {
            return Math.floor(Math.random() * 3) + 1;
        }

        function showScore() {
            let score = document.querySelector(".scoreboard")
            score.textContent = `${humanScore} - ${computerScore}`;
            if (humanScore == 5 || computerScore == 5) {
                score.textContent += humanScore > computerScore ? " You are winner!" : " You lose try again!";
                humanScore = 0;
                computerScore = 0;
            }
        }



        function playRound(humanChoice, computerChoice) {
            let humanChoiceStr = humanChoice == 1 ? "Rock" : humanChoice == 2 ? "Paper" : "Scissors";
            let compChoiceStr = computerChoice == 1 ? "Rock" : computerChoice == 2 ? "Paper" : "Scissors";
            let lose = `You lose! ${compChoiceStr} beats ${humanChoiceStr}.`
            let win = `You win! ${humanChoiceStr} beats ${compChoiceStr}.`
            let result = document.querySelector(".round-result")
            if (humanChoice == computerChoice) {
                result.textContent = "Equality for " + humanChoiceStr
            } else if ((humanChoice == 1 && computerChoice == 2) || (humanChoice == 2 && computerChoice == 1) || (humanChoice === 3 && computerChoice == 1)) {
                result.textContent = lose;
                computerScore++
            } else {
                result.textContent = win;
                humanScore++;
            }
            showScore();
        }

    </script>
</body>

</html>